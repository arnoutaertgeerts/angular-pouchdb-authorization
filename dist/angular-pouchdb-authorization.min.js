!function(){"use strict";angular.module("authorization",["pouchdb"]).config(["pouchDBProvider","POUCHDB_METHODS",function(o,i){var n={login:"qify",logout:"qify",getUser:"qify",getSession:"qify"};o.methods=angular.extend({},i,n)}])}();
!function(){"use strict";function n(){var n={};return n.anon=["anon"],n["public"]=["anon","user","admin","_admin"],n.user=["user","admin","_admin"],n.admin=["admin","_admin"],n}angular.module("authorization").factory("Access",n),n.$inject=[]}();
!function(){"use strict";function e(e){return{restrict:"A",link:function(s,n,c){function i(){t&&r&&(e.authorize(r,t)?n.css("display",u):n.css("display","none"))}var t,r,u=n.css("display");s.user=e.user,s.$watch("user",function(e){e.roles&&(t=e.roles),i()},!0),c.$observe("accessLevel",function(e){e&&(r=e),i()})}}}angular.module("authorization").directive("accessLevel",e),e.$inject=["Auth"]}();
!function(){"use strict";function n(n,o){function e(n){angular.extend(l,n)}function t(o){c=n(o)}function u(n,e){void 0===e&&(e=l.roles);var t=o[n];return _.intersection(t,l.roles).length>0}function r(n){return void 0===n&&(n=l),-1===n.roles.indexOf("anon")}function i(n,o){return c.login(n,o).then(function(o){l.name=n,angular.extend(l,o)})}function a(){return c.logout().then(function(){e({name:"",email:"",roles:["anon"]})})}var c=null,l={name:"",roles:["anon"]};return{remote:t,authorize:u,isLoggedIn:r,login:i,logout:a,user:l}}angular.module("authorization").factory("Auth",n),n.$inject=["pouchDB","Access"]}();