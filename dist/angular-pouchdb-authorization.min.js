!function(){"use strict";function n(){var n={};return n.anon=["anon"],n["public"]=["anon","user","admin","_admin"],n.user=["user","admin","_admin"],n.admin=["admin","_admin"],n}angular.module("authorization").factory("Access",n),n.$inject=[]}();
!function(){"use strict";function e(e){return{restrict:"A",link:function(s,n,c){function i(){t&&r&&(e.authorize(r,t)?n.css("display",u):n.css("display","none"))}var t,r,u=n.css("display");s.user=e.user,s.$watch("user",function(e){e.roles&&(t=e.roles),i()},!0),c.$observe("accessLevel",function(e){e&&(r=e),i()})}}}angular.module("authorization").directive("accessLevel",e),e.$inject=["Auth"]}();
!function(){"use strict";function n(n,o){function e(n){angular.extend(c,n)}function t(n,e){void 0===e&&(e=c.roles);var t=o[n];return _.intersection(t,c.roles).length>0}function r(n){return void 0===n&&(n=c),-1===n.roles.indexOf("anon")}function u(n,o){return a.login(n,o).then(function(o){c.name=n,angular.extend(c,o)})}function i(){return a.logout().then(function(){e({name:"",email:"",roles:["anon"]})})}var a=n(),c={name:"",roles:["anon"]};return{authorize:t,isLoggedIn:r,login:u,logout:i,user:c}}angular.module("authorization").factory("Auth",n),n.$inject=["PouchDB","Access"]}();
!function(){"use strict";angular.module("authorization",["pouchdb"])}();